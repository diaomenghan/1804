云计算简介：
        云计算：一群提供服务的计算机的整体 
            ！提供服务（通信网络）
        云服务：用户按需消费、使用 
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
服务器：能够为其他计算机提供服务的更高级的电脑（更加稳定、高效）:
        机架式
        塔式
        机柜式
        刀片式 

典型服务模式（C/S：Client/Server架构）:
        服务器：提供资源或某种功能
        客户机：使用资源、功能 
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
TCP/IP：
  TCP/IP协议简介,准则 规则
    主机与主机之间通信的三个要素: 
     IP地址(IP address)
      子网掩码(subnet mask)
     IP路由(IP router) 

IP地址(IP address) :
   人的名字：张三、李四、王五（标识作用）  
   计算机名字：ip地址（唯一标识）：由32位二进制构成  
 
• 作用:用来标识一个节点的网络地址(节点:计算机)
• 地址组成(点分十进制):等分成4段，用4个十进制数表示,以"."隔开
• IP地址的分类
	用于一般计算机网络：
							默认子网掩码： 标识ip地址的网络位与主机位，利用数字1表示网络位 0表示主机位
	A类:1 ~ 126         网络位+主机位+主+主		A类地址, 255.0.0.0
	B类:128 ~ 191       网+网+主+主			B类地址, 255.255.0.0
	C类:192 ~ 223      网+网+网+主			C类地址, 255.255.255.0
	127.0.0.1 :表示特殊的ip地址（永远代表自己）
		网络位：标识网络
		主机位：标识主机
	例如：
		IP地址：192.168.1.1
		子网掩码：255.255.255.0 或 192.168.1.1/24（/24代表有24个网络位）
	组播及科研专用：
	D类:224 ~ 239	组播
	E类:240 ~ 254	科研
---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
Win2008
改变桌面背景:
    开始->搜索中输入：desktop
    控制面板->显示->改变桌面背景
配置IP地址：
	右击桌面网络 ---->属性 ---->更改适配器设置
	双击“本地连接” ----> 属性
	双击“Internet协议版本4(TCP/IPv4)”
	配置完成后,单击“确定”完成
自动配置ip地址：需要网络有DHCP服务器，依照DHCP协议
手工配置ip地址

网关：从一个网络连接到另一个网络的“关口” (应用于不同的网络之间的通信)
DNS（域名解析）服务器：解析域名--->将域名解析为IP地址
	例如：客户端访问Web网站：www.qq.com ----> DNS  ----> 腾讯的Web服务器
查看IP地址的命令：
	ipconfig
      或ipconfig   /all 		可查看更详细的信息，例如DNS服务器信息

测试通信： 一次 ping 指的双向的，有去有回  
	  ping  对方IP地址
	PS：如果请求超时，则需要关闭对方计算机的防火墙

-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

 • UNIX诞生：1970.1.1
 • Linux之父:Linus Torwalds,发布内核
	  内核作用: 负责调配所有的硬件
   Linux版本号:主版本.次版本.修订号
 • Linux命令
	用来实现某一类功能的指令或程序
	命令的执行依赖于解释器(默认的解释器程序：/bin/bash)
	  	命令 <------> 解释器（Shell） <------> 内核 <------> 硬件
	Linux命令的分类：
		1.内部命令：属于解释器的
		2.外部命令：解释器之外的其他程序

一套公开发布的完整Linux系统= Linux内核 + 应用程序(主要是GNU)

• 一块硬盘的“艺术”之旅:0
	物理硬盘 ---> 分区规划 ----> 格式化 ----> 读/写文档
	格式化:赋予空间文件系统: 定义数据在空间中如何存储（排列的规则），不同的文件系统，其存储方式不一样
	  			Windows文件系统：FAT  旧版的格式
						   NTFS 新版的格式
			      Linux文件系统：RHEL6  EXT4：第四代扩展文件系统    
			     			 RHEL7  XFS：高级日志文件系统
                                      SWAP   交换空间(虚拟内存)缓解物理真实内存的压力
	
• 格式化基本作用：
	定义向磁盘介质上存储文档的方法和数据结构,以及读取文档的规则
	不同类型的文件系统,其存储/读取方式不一样
	格式化操作就是建立新的文件系统

• 最顶层为根目录(/)： 所有的数据都在此目录下（Linux系统的起点）
		/dev （Device）: 设备相关的文件
		/etc :系统管理配置文件
		/bin (Binary) :存放着最经常使用的命令
		/sbin (Super User Binary) :超级权限的命令
		/boot :启动 Linux 时使用的一些核心文件
		/opt ：主机额外安装软件存放的目录
		/lib ：系统最基本的动态连接共享库
		/media：U盘，光盘挂载目录
		/mnt ：临时挂载其他文件
		/proc：内存的映射
		/tmp :存放临时文件
		/var: 日志文件
• 分区：
	划分硬盘/dev/hda         /dev/hdb       /dev/hdc        /dev/hdd
        划分分区/dev/sda1        /dev/sda2      /dev/sda3       /dev/sda4   
		其中：hd,表示IDE设备
		     sd,表示SCSI设备
		     vd,表示虚拟机设备 
	例如：
	 /dev/sda7设备表示：SCSI设备,第一块硬盘,第七个分区
     
--------------------------------------------------------------------------------------------------------------------------------------------------------

在Virtual Machine Manager上安装RHEL7系统
	创建新虚拟机
	本地安装介质（未来批量安装会使用网络引导）
	点击浏览，载入ISO映象
	设置虚拟机内存和CPU数（针对多核CPU）  PS：虚拟机和真机共享内存，即：虚拟机运行后，会全部占用预设的内存
	设置虚拟机允许使用的最大硬盘空间和虚拟机名称，选择虚拟网络：隔离网络，仅使用内部和主机路由。原因：虚拟机设置IP不会影响真机网络
	进入安装界面，从iso镜像安装时选择"install red hat enterprise linux *.*"。其他渠道安装选择"Test this media & ...."
	此时，如果想让鼠标回到真机：Ctrl+Alt
	语言可选英语（最上面）或者中文（倒数第二个）
	软件选择：带GUI的服务器，即有图形界面的Linux
	安装位置：可选自动配置分区，也可手动分区
	开始安装，同时设置root的密码，由于RHEL7对root的密码有复杂性要求，所以需要设置复杂密码或按2次“完成”设置
	root：Linux管理员用户

--------------------------------------------------------------------------------------------------------------------------------------------------------
RHEL7基本操作
• 虚拟控制台切换 ( Ctrl + Alt + Fn 组合键)
  Ctrl + Alt + F1:图形桌面，右键 --> 打开终端：伪字符终端
  Ctrl + Alt + F2～6:字符控制台

提示符： [用户名@计算机的主机名 当前所在目录]#或$
     管理员的表示符号： #
     普通用户的表示符号： $
     ～：用户的家目录
	/root:管理员的家目录
      /home/普通用户的用户名：普通用户的家目录
	/home:存放所有普通用户的家目录

--------------------------------------------------------------------------------------------------------------------------------------------------------

• 快捷键
	tab：快速补全命令或者目录，对选项无效，续按两次Tab可查看所有可匹配项
		[root@A ~]# ls  /et(tab)/sysco(tab)/netw(tab)-(tab)/ifc(tab)-e(tab)
		[root@A ~]# ls  /etc/sysconfig/network-scripts/ifcfg-eth0 		
	Ctrl + c :结束正在运行的命令
	Esc+. :粘贴上一个命令的参数
	Ctrl + l:复位
	Ctrl + u:清空至行首
	Ctrl + w:往回删除一个单词(以空格为界)
注意事项：
   1.命令严格区分大小写
  2.错误提示 bash: 命令名 : 未找到命令...  原因：命令输入有误或该命令(软件)没有安装

命令行的一般格式：
	命令名    [选项]...     [参数1]      [参数2]...

命令：
 • pwd ：Print Working Directory
	用途:查看当前工作目录

 • cd ：Change Directory
	用途:切换工作目录
	格式:cd [目标文件夹位置]			#默认参数：~
	  cd ~user：表示切换到用户user的家目录
		[root@A lisi]# cd ~root           #切换到root用户家目录
		[root@A ~]# 

 • ls ：List
	格式:ls [选项] [目录或文件名]
	常用命令选项：
	短选项：-l:以长格式显示（显示目录内容的详细信息）
	 	-d:显示目录本身(而不是内容)的属性,与l连用
		-h:提供易读的容量单位(K、M等),与l连用
		-A:列出所有文件，包括以 "." 开头的隐含文件
		-R:递归列出所有子目录
		-t:按时间信息排序
		-F :每个目录名加“ / ”后缀，每个 FIFO 名加“ | ”后缀， 每个可运行名加“ * ”后缀
	可由多个短选项组合为复合选项： -ld,-lh,....
	长选项：--help 
		[root@localhost ~]# cd  /             #切换到根目录
		[root@localhost /]# pwd        	#查看当前所在目录
		[root@localhost /]# ls                #显示当前目录内容
			bin   dev  home  lib    media  opt   root  sbin  sys  usr
			boot  etc  lib64  mnt    proc  run   srv   tmp  var
		[root@localhost /]# cd /boot          #切换到/boot目录
		[root@A tom]#  ls -l  /root         #显示目录内容子文档的详细属性
		[root@A tom]#  ls -ld  /root        #显示目录本身的详细属性
		[root@A tom]#  ls -lh  /boot        #显示目录内容的详细属性加上易读的大小单位,如KB，MB（b不显示）
		[root@A tom]#  ls -A   /root	     #显示root下所有文档，包括名称以"."开头的隐藏文档
	ls显示的内容颜色：
	  蓝色：目录
	  黑色：文件
	  绿色：可执行的程序
	  青色：快捷方式
	  红色：压缩包
绝对路径和相对路径：
	1.以 / 开始的绝对路径
		[root@localhost /]# cd /etc/pki
		[root@localhost pki]# pwd
			/etc/pki
		[root@localhost pki]# ls
			CA        consumer     java   nss-legacy  product-default  rsyslog
			ca-trust  entitlement  nssdb  product     rpm-gpg          tls
		[root@localhost pki]# cd /etc/pki/CA
		[root@localhost CA]# 
 	2.以当前路径为参照的相对路径
		[root@localhost CA]# cd /etc/pki/
		[root@localhost pki]# pwd
			/etc/pki
		[root@localhost pki]# cd CA
		[root@localhost CA]# pwd
			/etc/pki/CA
		[root@localhost CA]# cd ..		返回到上一层目录（后退）
		[root@localhost pki]# pwd       
			/etc/pki

• du命令：查看文件或目录的大小
	参数：-s 统计目录的总容量
		-h 人性化显示容量(带单位)
	[root@desktop0 ~]#  du -sh /boot/
--------------------------------------------------------------------------------------------------------------------------------------------------------
• cat : 连接文件并在标准输出上输出内容
	格式：cat 选项  文件路径
	常用选项：
		-n : 给所有输出行编号
		-b : 给非空输出行编号
	[root@localhost /]# cat  /etc/redhat-release 	#储存本机系统的具体版本信息
	[root@localhost /]# cat  /etc/passwd    		#查看/etc/passwd文件的内容
	[root@localhost /]# cat  /etc/fstab     		#查看/etc/fstab文件的内容
	[root@localhost /]# cat -n /etc/passwd            #显示文件内容时加上行号

• uname :显示输出系统信息
	[root@localhost /]# uname -r			#显示操作系统发行版本(内核版本)
		3.10.0-327.el7.x86_64
	[root@localhost /]# uname -p			#显示主机处理器(CPU)类型
		x86_64
	[root@server0 ~]# uname -n			#显示主机名
		server0.example.com

• lscpu :列出CPU处理器信息
[root@room9pc01 ~]# lscpu

• 列出内存信息
[root@room9pc01 ~]# cat /proc/meminfo

查看帮助的方法,按q退出
	命令 -h
	命令 --help
	man 命令	#对man帮助是可以/搜索

• hostname:列出当前系统的主机名,临时修改主机名称
	[root@svr7 桌面]#  hostname           #等同于 uname -n
	[root@svr7 桌面]#  hostname  A		#修改主机名为A
	    重新打开终端，可以看到提示符的变化

• ifconfig:列出已激活的网卡连接信息，默认第一张网卡的名为 eth0
	[root@svr7 桌面]# ifconfig
	[root@A ~]# ifconfig eth0
	[root@A ~]# ifconfig eth0 192.168.1.1  #临时设置IP地址为192.168.1.1
	[root@A ~]# ping 192.168.1.1
		PS：ping 命令不会自动停止，需要按Ctrl+c。ping -c 次数

• poweroff , shutdown:关机
	格式：  -h （关机时间），不带时间表示马上关机
		-c 取消-h设置的关机

• reboot:重启

mkdir:创建文件夹(目录)
• mkdir ： Make Directory
	格式:mkdir  [-p] [/路径/]目录名1 [/路径/]目录名2..	#-p ：创建多层的目录时，当父目录没有时创建父目录
	--verbose   打印出新建立的每一个目录名  
		[root@svr7 ~]# mkdir  nsd01			#在家目录下创建文件夹nsd01
		[root@svr7 ~]# mkdir  /boot/nsd02		#在boot目录下创建文件夹nsd02
		[root@svr7 ~]# mkdir  /root/haha  /opt/test #在root目录下创建文件夹haha，在opt目录下创建文件夹test
		[root@server0 /]# mkdir -p /opt/aa/bb/cc/dd  #同时创建多层目录
		[root@server0 /]# ls -R  /opt/aa		 #递归显示：目录本身的内容，以及所有子目录的内容依次展开

• touch：新建空文件
	格式： touch [/路径/]文件名1  /路径/]文件名2...
		[root@svr7 ~]# touch /opt/1.txt
		[root@svr7 ~]# ls /opt

• less:分屏阅读工具,查看大文件
	格式:less [路径/]文件名...   
	[root@A ~]# less /etc/passwd
	在页面底部的空白处：输入：/查找的内容，全文查找到的内容会用黑底标明，按q退出

• head、tail :查看文件头尾内容
	格式:  head -n文件名		#查看前n行的文件内容，默认n=5
            tail -n文件名		#查看尾n行的文件内容，默认n=5
		[root@A ~]# head -3 /etc/passwd	#显示passwd前3行的内容
		[root@A ~]# tail -2 /etc/passwd	#显示passwd后2行的内容

• grep:输出包含指定字符串的行
	格式:grep [选项]... '查找条件'  目标文件
	    -A n :显示包括查找条件所在行后n行的内容
	    -B n :显示包括查找条件所在行前n行的内容
	    -C n :显示包括查找条件所在行前后各n行的内容
	    -i  :搜索时忽略大小写
	    -v  :取反匹配  显示文本文件内容中不包含指定字符串的行，常和‘^$’连用，表示非空行
	    ^word ；以字符串word开头
	    word$ ；以字符串word结尾
		[root@A ~]# grep root  /etc/passwd	#在passwd中查找root
		[root@A ~]# grep bash  /etc/passwd	#在passwd中查找bash
		[root@A ~]# grep UUID  /etc/fstab	#在fstab中查找UUID,区分大小写++
		[root@A ~]# grep man   /etc/man_db.conf 	#在man_db.conf中查找man
		[root@server0 ~]# grep -i 'ROOT' /etc/passwd    	#忽略大小写
		[root@server0 ~]# grep -v 'root' /etc/passwd    	#不包含root的行
		[root@server0 ~]# grep '^root'  /etc/passwd	#以root开头的行	
		[root@server0 ~]# grep 'root$'  /etc/passwd	#以root结尾的行
• history:历史命令
	[root@desktop0 ~]# history     #查看历史
	 上下键盘           #调用历史
	 !sys		#调用最近的以sys开头的命令
	 !数字		#通过历史命令的编号调用历史命令
	[root@desktop0 ~]# history -c  #清空历史命令
	[root@desktop0 ~]# vim +46 /etc/profile		#直接定位第46行
	HISTSIZE=1000				#默认历史记录是最多1000条

• ln命令：给文件或目录创建快捷方式，链接
  1.软链接
	格式：ln -s 源文件 软连接
	软链接不占用空间，但是源文件删除，链接失败
  2.硬链接
	格式：ln 源文件 硬连接
	硬链接不占用空间，源文件可以删除，链接依然能用
  注意：做链接一定要用绝对路径
	[root@desktop0 ~]# ln -s /root/123.txt /abc.txt		#给/root/123.txt创建了一个软链接在/abc.txt
	[root@desktop0 ~]# ln  /root/123.txt /cba.txt		#给/root/123.txt创建了一个硬链接在/cba.txt
	[root@desktop0 ~]# cat /abc.txt    				#可以打开
	[root@desktop0 ~]# cat /cba.txt    				#可以打开
	[root@desktop0 ~]# rm -rf /root/123.txt			#删除源文件
	[root@desktop0 ~]# cat /abc.txt				#打不开
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 访问光盘的内容：
     Windows：
           光盘--------->光驱设备------> CD驱动器（访问点）
     Linux：
           光盘文件--------->光驱设备---------> 目录，手工配置访问点
 1.图形将光盘放入光驱设备：在虚拟机“显示虚拟硬件详情”中，找到CD光驱，点击连接，加载镜像
 2.查看光驱设备：
 [root@A ~]# ls -l  /dev/cdrom
 lrwxrwxrwx. 1 root root 3 2月   1 10:34 /dev/cdrom -> sr0
								PS：sr0 ： SCSI
								    hda ： IDE
 3.可以访问光驱设备的图形界面,也可以通过访问点访问光驱
• 使用mount命令
	格式:mount 设备路径 挂载点目录
	 [root@A ~]# mkdir  /dvd			   #先创建一个挂载点目录
	 [root@A ~]# mount  /dev/cdrom   /dvd   #将/dev/cdrom设备的访问点设置为/dvd。设置后，将隐藏dvd目录下原有文件，仅显示光盘中文件
	  	mount: /dev/sr0 写保护，将以只读方式挂载
	 [root@A ~]# ls /dvd			   #可以正常访问光盘里的内容，在Linux中访问设备资源内容，必须通过目录作为访问点进行访问

• 使用umount命令，卸载挂载
	格式:umount  挂载点目录
	[root@A ~]# umount  /dvd
	[root@A ~]# ls  /dvd
注意事项：
    1.进行挂载时，挂载点目录必须要存在
    2.进行挂载时，挂载点目录不要是根目录下已经存在的目录（建议）
    3.卸载时，确认当前没有任何人在访问点目录内，包括自己

错误提示：[root@A dvd]# umount /dvd
  	  umount: /dvd：目标忙。
         (有些情况下通过 lsof(8) 或 fuser(1) 可以
          找到有关使用该设备的进程的有用信息)
原因：本用户所在目录为dvd，正在访问需要卸载的目录，所以执行失败

----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
目录和文件管理
• useradd ：添加用户
	注意：由于未设密码，所以登陆界面无法看到
	格式：useradd 用户名

• userdel：删除用户
	格式：userdel [-r] 用户名			#-r表示同时删除该用户/home下的用户文件夹，不建议使用
	[root@A ~]# useradd  harry        #创建用户harry
	[root@A ~]# cd ~harry             #切换到harry用户家目录
	[root@A harry]# userdel  tom      #删除用户tom
	[root@A harry]# cd ~tom           #用户已被删除，cd失败

----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
• alias：命令的别名（简化复杂命令的执行）
	格式：alias 别名='真正执行的命令'
                                        
• unalias：删除别名
    	格式：unalias 别名/[-a]		#/a表示删除所有别名 
	[root@A ~]# alias  hn='hostname'     #定义别名
	[root@A ~]# hn
	[root@A ~]# alias   myls='ls -lh'    #定义别名
	[root@A ~]# myls /root
	[root@A ~]# alias   			#显示当前所有生效的别名
	[root@A ~]# unalias  hn  		#删除别名hn
	[root@A ~]# hn           		#命令没有找到
	[root@A ~]# unalias  -a   		#删除所有别名

永久指定别名：对单个用户：/家目录/用户名/.bashrc  或  /root/.bashrc
		所有用户： /etc/bashrc
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
通配符：
• 针对不确定的文档名称,以特殊字符表示
	*:任意多个任意字符
	?:单个字符
	[a-z,0-9]:连续范围中的一个字符,有且只有一个
	{a,b,c}:多组不同的字符串,全匹配

[root@A ~]# ls /dev/tty*         #匹配/dev目录下以tty开头的，后面有任意多个字符的文档
[root@A ~]# ls /etc/*.conf       #匹配/etc目录下以.conf结尾的文档
[root@A ~]# ls /etc/*tab         #匹配/etc目录下以tab结尾的文档
[root@A ~]# ls /dev/tty?         #匹配/dev目录下以tty开头的，且后面有一个字符的文档
[root@A ~]# ls /dev/tty??        #匹配/dev目录下以tty开头的，且后面有两个字符的文档
[root@A ~]# ls /dev/tty[1-8]
[root@A ~]# ls /dev/tty[3-6]
[root@A ~]# ls /dev/tty{1,3,7,9,18}
[root@A ~]# ls /dev/tty{S0,S1}
[root@A ~]# ls /dev/tty{2[0-9],30}      #显示/dev/目录下tty20至tty30

----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
• vim：文本编辑器
    	命令模式
	输入模式（插入模式）	
	末行模式

• vim文本编辑器
	格式:vim [[/目录/]文件名]
	若目标文件不存在,则新建空文件并编辑
	若目标文件已存在,则打开此文件并编辑
	若目标目录不存在，打开文本编辑器，但无法保存

                         按键盘"i"进入输入模式		输入‘o’代表进入输入模式并另起一行
                     命----------------------------------->输入模式
		     令  按Esc键返回到命令模式
	             模----------------------------------->末行模式： 	输入"：w":代表保存
                     式  按键盘":"进入末行模式		输入"：wq":代表保存并退出
            							输入"：q!":代表强制不保存并退出
	命令模式：
			yy		复制一行
			3yy		复制3行
			p		粘贴（到光标的下一行）
			P		粘贴（到光标的上一行）
			h,j,k,l(左,下,上,右)
			gg		移动光标到文件头
			G		移动光标到文件尾
			4G		移动光标到第4行
			x		删除光标当前的一个字符
			u		撤销一步
			^		光标跳到行首
			$		光标跳到行尾
			dd		删除一行
			d$		删除到行尾
			d^		删除到行首
			ZZ		保存退出
			C：可以删除光标之后整行，并且进入输入模式
			查找关键词：  搜索（/word）切换结果（n向后、N向前）
	末行模式
			:4		移动光标到第4行
			:w		保存(不退出）
			:wq		保存退出
			:q!		不保存退出
			:r /etc/passwd  	读取其他文件
		 	:w /root/tmp.txt   另存为/root/tmp.txt
			:s/旧/新/		旧内容替换为新内容，仅替换当前行的第1个内容
			:s/旧/新/g		替换当前行的所有旧内容为新内容
			:%s/旧/新/		替换所有行的第1个
			:%s/旧/新/g		替换所有行的所有旧内容
			:3,5s/旧/新/g	替换3到5行的所有内容
			:set nu		显示行号
			:set nonu		不显示行号
                    					     	            
[root@A ~]#  vim   /opt/1.txt 

• rm (Remove)
	用途：删除文档
	格式：rm [选项]... 文件或目录...
	常用命令选项:
	-r、-f:递归删除(含目录)、强制删除,一起使用表示删除该目录及该目录下所有文件
	[root@A ~]# rm  -rf  /opt/*	#删除/opt/下所有子文件
	[root@A ~]# ls /opt/
	[root@A ~]# touch /opt/1.txt
	[root@A ~]# mkdir /opt/test01
	[root@A ~]# ls -R /opt/
	[root@A ~]# rm  -rf  /opt/	#删除包括/opt在内的所有文件
	[root@A ~]# ls  /opt/		#报错，opt不存在

• mv （Move）
	用途：移动/改名
	格式: mv 原文件路径 目标路径
	重命名：路径不变的改名，等同于F2
	[root@A ~]# touch  /opt/1.txt
	[root@A ~]# mkdir  /opt/nsd02
	[root@A ~]# ls /opt/
		1.txt  nsd02
	[root@A ~]# mv /opt/1.txt  /opt/nsd02
	[root@A ~]# ls /opt/
		nsd02
	[root@A ~]# ls /opt/nsd02
		1.txt
	[root@A ~]# ls /opt/
	[root@A ~]# mv /opt/nsd02  /opt/student
	[root@A ~]# ls /opt/

• cp （Copy）
	格式:cp [选项]原文件 目标路径
	常用命令选项:
	-r:递归,复制目录时必须有此选项，如果没有，则报错，且略过目录
	[root@A ~]# ls /opt/
	[root@A ~]# cp /etc/redhat-release  /opt/
	[root@A ~]# ls /opt/
	[root@A ~]# cp -r /home/  /opt/
	[root@A ~]# ls /opt/
	[root@A ~]# cp -r /etc/fstab /boot/ /opt/                 #当cp出现两个以上的参数时，永远会将最后一个参数作为目标目录，其它作为原文件
	[root@A ~]# ls /opt/
	[root@A ~]# ls /boot/vm*						  #cp支持通配符
	[root@A ~]# cp /boot/vm* /opt/
	[root@A ~]# ls /opt/
	[root@A ~]# cd /etc/sysconfig/network-scripts/         
	[root@A network-scripts]# ls
	[root@A network-scripts]# cp  /etc/passwd    .		  #cp命令与"."连用,表示复制到当前目录下
	[root@A network-scripts]# ls
	[root@A opt]# rm -rf /opt/*
	[root@A opt]# cp /etc/passwd  /opt/1.txt			  #cp命令可以重新命名，目标路径为新设文档的名称，将passwd以1.txt为名复制到/opt下
	[root@A opt]# ls /opt/
	[root@A opt]# cat /opt/1.txt 

教学环境：
• 每个学员机上有三台预先配置好的虚拟机
	server :作为练习用服务器
	desktop:作为练习用客户机
	classroom :提供网关/DNS/软件素材等资源
	首先开启classroom虚拟机，然后在开启server与desktop
操作还原指令：
	[root@room9pc01 ~]# rht-vmctl   reset  classroom    	#还原classroom并且开机
	[root@room9pc01 ~]# rht-vmctl   reset  server		#还原server并且开机
	[root@room9pc01 ~]# rht-vmctl   reset  desktop		#还原desktop并且开机
利用alias 方便每一次还原三台虚拟机：
	[root@room9pc01 ~]# vim  /root/.bashrc          #每一次开机或开启一个新的终端root用户都会读取的文件 /root/.bashrc
				 alias  c='rht-vmctl   reset   classroom'
				 alias  s='rht-vmctl   reset   server'
				 alias  d='rht-vmctl   reset   desktop'

远程管理
  Linux远程管理： ssh 参数 对方用户名@服务器IP地址
		选项： -X(大写) :在远程管理时，可以在本机运行对端的图形程序
  server虚拟机 ： IP地址  172.25.0.11     主机名：server0.example.com  
  desktop虚拟机 ： IP地址   172.25.0.10     主机名： desktop0.example.com
	[root@room9pc01 ~]#  ping  172.25.0.11
	[root@room9pc01 ~]#  ping  172.25.0.10
	[root@room9pc01 ~]#  ssh  root@172.25.0.11    #远程管理172.25.0.11
	[root@room9pc01 ~]#  ssh  root@172.25.0.10    #远程管理172.25.0.10
	[root@server0 ~]# exit   #退出远程管理

Ctrl+Shift + t :在原有终端的基础上开启一个新的终端的快捷键

------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

软件包管理
使用rpm命令管理软件
• RPM Package Manager,RPM包管理器
	格式：
	rpm -q   软件名                     #检测程序是否安装
	rpm -ivh 软件名-版本信息.rpm     #安装软件包，并显示安装过程
	rpm -e   软件名                     #卸载软件
	[root@server0 ~]# rpm  -q   firefox   #检测firefox程序是否安装
	[root@server0 ~]# rpm  -q   haha      #检测haha程序是否安装
	[root@server0 ~]# rpm  -q   bash      #检测bash程序是否安装

安装软件包
1.让光盘内容出现在系统中：首先关闭虚拟机server，添加光驱设备
2.开机，查看是否具备光驱设备
	[root@server0 ~]# ls /dev/cdrom 
3.挂在光驱设备
	[root@server0 ~]# mkdir /dvd
	[root@server0 ~]# mount /dev/cdrom  /dvd
	mount: /dev/sr0 写保护，将以只读方式挂载
	[root@server0 ~]# ls /dvd
	[root@server0 ~]# ls /dvd/Packages/vsftpd-3.0.2-22.el7.x86_64.rpm		#从光盘内容中找到安装包
	[root@server0 ~]# ls /dvd/Packages/
4.安装及卸载软件包
	[root@server0 ~]# rpm -q vsftpd    #查询软件是否安装
	[root@server0 ~]# rpm -ivh  /dvd/Packages/vsftpd-3.0.2-22.el7.x86_64.rpm
	[root@server0 ~]# rpm -q vsftpd     #查询是否安装成功
	[root@server0 ~]# rpm -e vsftpd     #卸载软件
	[root@server0 ~]# rpm -q vsftpd     #查询是否卸载成功

导入红帽签名信息(了解)
	[root@server0 ~]# rpm --import /dvd/RPM-GPG-KEY-redhat-release 
	[root@server0 ~]# rpm -q vsftpd
	[root@server0 ~]# rpm -ivh /dvd/Packages/vsftpd-3.0.2-22.el7.x86_64.rpm	#此时安装将不再提示没有签名

错误：依赖检测失败：
	bind = 32:9.9.4-50.el7 被 bind-chroot-32:9.9.4-50.el7.x86_64 需要

Yum软件包仓库  自动解决依赖关系，安装软件
服务：服务端 ：提供服务，为客户端解决依赖关系安装软件包，如classroom.example.com 
      客户端 ：发出请求享受服务
 
虚拟机Server0上操作：
     客户端 ：Server0.example.com 
     客户端文件路径，以.repo结尾：/etc/yum.repos.d/*.repo
     错误的客户端文件会影响正确的客户端文件
	[root@server0 ~]# rm  -rf  /etc/yum.repos.d/*		#清空目录下所有repo文件，防止有错误的文件
	[root@server0 ~]# vim  /etc/yum.repos.d/nsd.repo		#创建并打开nsd.repo
					nsd.repo中写入如下内容：
					   [rhel7]                  #仓库的标识，随意起   不能有空格
					   name=rhel 7.0            #仓库的描述信息
					   baseurl=http://classroom.example.com/content/rhel7.0/x86_64/dvd/
					   enabled=1                #本文件是否生效，等于1为生效   等于0为不生效
					   gpgcheck=0               #是否检测红帽签名，等于1为检测   等于0为不检测
	简便创建repo文件：yum-config-manager --add  网址
			   echo gpgcheck=0 >>/etc/yum.repos.d/classroom.example.com_content_rhel7.0_x86_64_dvd_.repo 
	[root@server0 ~]# yum  repolist  #列出仓库信息，检测是否能发现Yum服务端

Yum的使用
	命令：yum  install ：安装
	命令：yum  remove  ：卸载
	  [root@server0 ~]# yum  -y install  httpd sssd gcc      #安装httpd软件、sssd软件、gcc软件，并且所有安装中的提示都选择yes
	  [root@server0 ~]# rpm  -ql  httpd     			 #查看httpd软件安装部署清单 
	Yum的提供方式：  网络 : http:// , ftp:// ; 本地 :file://
真机操作,搭建本地Yum仓库
   真机服务端：将CentOS 7.4 光盘内容显示在系统中
	[root@room9pc01 ~]# mkdir /dvd
	[root@room9pc01 ~]# mount /iso/CentOS-7-x86_64-DVD-1708.iso  /dvd		#将iso文件的挂载点设置为dvd
	[root@room9pc01 ~]# ls /dvd
   真机客户端：
	[root@room9pc01 ~]# rm -rf /etc/yum.repos.d/*
	[root@room9pc01 ~]# vim /etc/yum.repos.d/nsd.repo
						nsd.repo中内容如下：
						   [CentOS]
						   name=CentOS 7.4
						   baseurl=file:///dvd             #file：// 代表本地即是服务端
						   enabled=1
						   gpgcheck=0
	[root@room9pc01 ~]# yum repolist 
	[root@room9pc01 ~]# yum -y install xeyes    #安装一个图形的软件
	[root@room9pc01 ~]# xeyes                    #运行图形的软件
	
包组：包含一个功能的所有软件的集合
  多媒体包组提供声音及音频等支持
	[root@room9pc01 ~]# yum groups list hidden      		#列出所有的包组
	[root@room9pc01 ~]# yum -y groups install  多媒体     	#安装包组 多媒体

--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

重定向命令输出： 将前面命令的输入结果当作文本文件的内容，写入到文件中
	>  :覆盖重定向
	>>  :追加重定向
	echo与重定向连用可直接写入内容
	[root@server0 ~]# head -2 /etc/passwd  >  /opt/1.txt
	[root@server0 ~]# cat /opt/1.txt
	[root@server0 ~]# hostname  >  /opt/1.txt
	[root@server0 ~]# cat /opt/1.txt
	[root@server0 ~]# hostname  >>  /opt/1.txt 
	[root@server0 ~]# cat /opt/1.txt
	[root@server0 ~]# echo 123456
	[root@server0 ~]# echo 123456 >> /opt/1.txt
	[root@server0 ~]# cat /opt/1.txt


wget:命令行下载工具
   wget  http://互联网路径
   wget  ftp://互联网路径
	[root@server0 ~]# wget http://classroom.example.com/content/rhel7.0/x86_64/errata/Packages/kernel-3.10.0-123.1.2.el7.x86_64.rpm
	[root@server0 ~]# ls     #查看是否下载成功
	[root@server0 ~]# uname -r		#查看内核更新前版本
	[root@server0 ~]# rpm -ivh kernel-3.10.0-123.1.2.el7.x86_64.rpm 
	[root@server0 ~]# reboot 		#重启后显示新的版本号
	[root@server0 ~]# uname -r

网络参数配置：
	设置永久主机名，修改配置文件/etc/hostname
	 [root@server0 ~]# vim /etc/hostname	或  echo student.tedu.cn  >  /etc/hostname 
	 [root@server0 ~]# cat /etc/hostname
	 [root@server0 ~]# hostname
	 [root@server0 ~]# exit        		    	#退出远程登陆
	 [root@room9pc01 ~]# ssh -X root@172.25.0.11	#重新登陆即可查看新的主机名
	配置永久ip地址  子网掩码  网关地址
	方法1：[root@A ~]# vim /etc/sysconfig/network-scripts/ifcfg-eth0   #网卡配置文件
	方法2：nmcli连接管理（network manager commond line）
		 1.查看识别的网卡名称
			[root@A ~]# nmcli connection show
		 2.配置ip地址  子网掩码  网关地址
			[root@A ~]#  nmcli connection  modify  'System eth0'   ipv4.method	    manual 或  auto  
     						  连接网络      修改      修改网卡的名字     修改ipv4的方法	     手工配置    自动配置

   					ipv4.addresses  '172.25.0.100/24    172.25.0.254' 	 connection.autoconnect yes
     					  配置ipv4地址         ip地址    子网掩码      网关地址		        每次开机自动启用
 			[root@A ~]# cat /etc/sysconfig/network-scripts/ifcfg-eth0 
		 3.激活配置
			[root@A ~]# nmcli  connection  up 'System eth0'
	 配置永久DNS服务器地址：将网站域名解析成对应的IP地址
		修改文件：/etc/resolv.conf
		[root@student ~]# echo nameserver 172.25.254.254  > /etc/resolv.conf
		[root@student ~]# cat /etc/resolv.conf
		[root@student ~]# nslookup  server0.example.com  			#测试DNS解析
				 Server:	172.25.254.254				#DNS服务器地址
				 Address:  	172.25.254.254#53	 
				 Name:	server0.example.com   			#对方网址
				 Address: 	172.25.0.11					#对方IP

配置IPv6地址：
     IPv4地址：  32个二进制,点分隔 4个部分,十进制表示
     IPv6地址： 128个二进制,冒号分隔 8 个部分,16进制表示
	 [root@server0 ~]# nmcli connection modify 'System eth0' ipv6.method manual ipv6.addresses 2003:ac18::305/64 connection.autoconnect  yes
	 [root@server0 ~]# nmcli connection up  'System eth0'
	 [root@server0 ~]# ifconfig  
	 [root@server0 ~]# ping6 2003:ac18::305					#ping IPv6

--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

find：查找文档位置
	格式：find  [目录]  [条件1]   [条件2] ...
	常用条件表示:
		 -type 类型 (f：文本文件、d：目录、l：快捷方式)
		 -name "文档名称" （可以使用通配符）
		-iname 根据名称查找,忽略大小写
		 -size +或-文件大小(k、M、G)
		 -user 用户名
		-group 组名
		-maxdepth n 最大查找n-1层子目录
		-mtime +或-n  n为文件修改时间（天）
			[root@student ~]# find /boot/  -type l       #查找boot目录下为快捷方式
			[root@student ~]# find /boot/  -type d       #查找boot目录下为目录
			[root@student ~]# find /boot/  -type f       #查找boot目录下为文本文件
			[root@student ~]# find  /etc  -name  "passwd"
			[root@student ~]# find  /etc  -name  "*.conf"
			[root@student ~]# find  /etc  -name  "*tab"
			[root@server0 ~]# find /etc/  -iname  "PASSWD" 			#实际匹配/etc/passwd
			[root@student ~]# find  /root/  -name  "nsd*"			#查找root下以nsd开头的文档
			[root@student ~]# find  /root/  -name  "nsd*"  -type f		#查找root下以nsd开头的文件
			[root@student ~]# find  /root/  -name  "nsd*"  -type d		#查找root下以nsd开头的目录
			[root@student ~]# find /  -user student  -type f			#查找根目录下归属用户student的文件
			[root@server0 ~]# find /home/ -group student			#查找/home 下所属组时student的文档
			[root@student ~]# find /boot  -size +10M   			#查找/boot下大于10M的文档
			[root@student ~]# find /boot  -size -10M   			#查找/boot下小于10M的文档
			[root@server0 ~]# find /etc/ -maxdepth  1  -name  "*.conf"	#查找/etc下以.conf结尾的文档，不查找/etc的子目录
			[root@server0 ~]# find /var/log/ -mtime +100   			#查找最后修改时间是100天以前的文档
			[root@server0 ~]# find /var/log/ -mtime -10			#查找最后修改时间是10天以内的文档
		-exec ：处理find查找的结果
			格式：find .. .. -exec 处理命令  {}    \;
							以 {} 代替每一个结果,逐个处理,遇 \; 结束
 			[root@student ~]# find  /boot  -size +10M  -exec cp  {}  /opt  \;
 			[root@student ~]# find  /root  -name "nsd*" -type d -exec ls -lh \;

用户帐号的作用：1.可以登陆系统    
		 2.实现访问控制（不同的用户具备不同的权限）
组帐号的作用：方便对用户帐号管理（将用户加入组） ，
主要指权限方面
唯一标识：UID：UserID 用户编号
	  GID：GroupID 组编号
管理员（root）的UID 必定为 0
普通用户UID：从1000开始
组帐号的分类： 基本组(私有组)
	 	附加组（公共组、从属组）
Linux规定： 一个用户至少属于一个组（基本组），一个用户也可以属于多个组

• 用户管理：
	添加用户：
	    用户基本信息存放在 /etc/passwd 文件 (户口本)
[root@server0 ~]# head  -1  /etc/passwd
   root:    x     :0 :  0     :  root    : /root  :/bin/bash
   用户名:密码占位符号:UID:基本的GID:用户描述信息(可以为空):家目录位置:默认的解释器
• 用户添加：useradd
	格式：useradd  [选项]...  用户名
	常用选项：-u 用户id、 -d 家目录路径、 -s 指定登陆的解释器程序 、-G 附加组     -g 基本组
、
		[root@server0 ~]# useradd  nsd01 			#创建用户nsd01
		[root@server0 ~]# useradd  -u  1200  nsd04  	#创建用户nsd04，同时设置用户ID为1200
		[root@server0 ~]# useradd  -d  /opt/nsd05   nsd05	#创建用户nsd05，同时设置其家目录为/opt/nsd05
		[root@server0 ~]# cat /etc/passwd
		[root@server0 ~]# useradd -s /sbin/nologin nsd06	#创建用户nsd06,同时设置解释器，该解释器表示用户不能登陆操作系统，常用于禁止用户登陆
		[root@server0 ~]# id haha            		#如果用户不存在，显示未查找到该用户
		[root@server0 ~]# id nsd06           		#如果用户存在，则查看用户基本信息
 
•组添加：groupadd
	格式：groupadd 组名
	[root@server0 ~]# groupadd tarena            #创建tarena组
	[root@server0 ~]# useradd -G tarena nsd07    #创建用户nsd07,并指定附加组
	[root@server0 ~]# id nsd07

•计算器
[root@server0 ~]# bc
1+1
2
2+2
4
2*3
6
10*3
30
10/3
3
10%3          #取余运算，10除以3，余1
1
[root@server0 ~]# echo 99999/366 | bc
273



•给已创建的用户创建/修改密码：passwd
	格式：passwd   [用户名]
		[root@server0 ~]# passwd nsd01
		更改用户 nsd01 的密码 。
		新的 密码：
		无效的密码： 密码是一个回文				#root修改密码时，可以强制略过密码复杂性要求
		重新输入新的 密码：
		passwd：所有的身份验证令牌已经成功更新。		#root用户修改其他用户密码时，无需验证原密码，其他用户只能修改自己的密码，且需要输入原密码
PS：/etc/shadow   存放用户密码信息（加密）

命令行临时切换身份：su - 用户名
	[root@server0 ~]# su - nsd01			#切换到nsd01
	[nsd01@server0 ~]$ passwd 			#不带参数表示修改自己的密码
	Changing password for user nsd01.
	Changing password for nsd01.
	(current) UNIX password:          		#输入旧密码
	New password:                     		#输入新的密码，符合复杂性要求
	Retype new password:              		#输入上面新的密码
	passwd: all authentication tokens updated successfully.
	[nsd01@server0 ~]$ exit				#返回su之前的用户

管道操作： 将前面的命令输出结果，交由后面命令，做为后面命令的参数再处理一遍  ,只有管道第一条前面有参数
符号：|
	[root@server0 ~]# ifconfig | head -2						#取网络信息的前2行
	[root@server0 ~]# head -12  /etc/passwd  |   tail -5 			#passwd文件的第8-12行
	[root@server0 ~]# cat -n /etc/passwd | head -12  |   tail -5 		#passwd文件的第8-12行，并保留原编号

非交互式设置密码
格式：echo '密码'  |   passwd    --stdin   用户名				#参数--stdin : 非交互式，取消交互
	[root@server0 ~]# echo 123  |  passwd --stdin nsd01
	[root@server0 ~]# echo redhat  |  passwd --stdin nsd01

• 修改用户属性：usermod (user modify)
	格式：usermod [选项]... 用户名
	常用命令选项：与useradd相同，-G 附加组：无论原先有多少个附加组，都重置为新设的附加组
	[root@server0 ~]# useradd tom
	[root@server0 ~]# id tom
	[root@server0 ~]# usermod -u 1300 -d /opt/tom -s /sbin/nologin tom
	[root@server0 ~]# id tom

• 删除用户:userdel(user delete)
	格式userdel  [-r]  用户名     #参数-r表示包括家目录一并删除
	[root@server0 ~]#  userdel -r nsd01
	[root@server0 ~]#  id nsd01

• 组帐号的管理
组基本信息存放在 /etc/group 文件
	[root@server0 ~]# head -1 /etc/group
	root:    x       :  0    :
	组名:组的密码占位符号:本组的ID：本组的成员列表
• 添加组：groupadd
	格式：groupadd   [-g]   组名	#参数-g可以指定GID
	[root@server0 ~]# groupadd  stugrp	#创建组stugrp
	[root@server0 ~]# grep 'stugrp'  /etc/g
roup

• 添加/删除组成员：gpasswd 
	添加：gpasswd -a 用户名 组名
	删除：gpasswd -d 用户名 组名
[root@server0 ~]# gpasswd -a kenji stugrp
[root@server0 ~]# grep 'stugrp' /etc/group


• 删除组：groupdel
	格式：groupdel 组名

---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  
• 压缩:
Linux 独有的压缩工具：gzip、bzip2 、xz
[root@server0 opt]# gzip   a.txt 		#将a.txt压缩为a.txt.gz，源文件消失
[root@server0 opt]# bzip2  b.txt 		#将b.txt压缩为b.txt.bz2，源文件消失
[root@server0 opt]# xz   c.txt 		#将c.txt压缩为c.txt.xz，源文件消失
  压缩方式对应扩展名：  gzip：.gz    bzip2：.bz2   xz：.xz
  红色:压缩包

归档压缩工具:
• tar 集成备份工具:
	格式：tar  [选项]     tar包的名字      被归档的文件1   被归档的文件2  被归档的文件3.....
	常见选项：
		-c:创建归档
		-x:释放归档
		-z、-j、-J:调用.gz、.bz2、.xz 格式的工具进行处理
		-P:保持归档内文件的绝对路径
		-C：指定释放路径
		-t:显示归档中的文件清单
		-f:指定归档文件名称
	注意：所有的操作都有-f选项，且f必须放在所有选项的最后
		[root@server0 opt]# tar -cPf  file01.tar /etc/passwd  /home/  /boot/		#将etc/passwd，/home/，/boot/三个文档进行归档
		[root@server0 opt]# tar -zcPf /root/test01.tar.gz  /etc/passwd  /home/  /boot/	#归档同时压缩需要写对扩展名
		[root@server0 opt]# tar -jcPf /root/test02.tar.bz2  /etc/passwd  /home/  /boot/
		[root@server0 opt]# tar -JcPf /root/test03.tar.xz  /etc/passwd  /home/  /boot/ 
		[root@server0 opt]# tar -tf /root/test03.tar.xz 					#不解压查看其中内容
		[root@server0 opt]# tar -xf /root/test01.tar.gz -C /mnt/			#指定解压缩的位置为/mnt,该目录必须存在
		[root@server0 opt]# tar -xf /root/test01.tar.gz					#不指定位置则解压到当前目录

• zip压缩(window和linux通用)：
	格式：zip (-r) 压缩文件 源文件
	      unzip 压缩文件 (-d 解压目录)
	[root@desktop0 ~]# zip -r  my.zip  /var/log		#把/var/log目录给压缩，压缩到当前目录下my.zip
	[root@desktop0 ~]# unzip my.zip				#把my.zip解压到当前目录
	[root@desktop0 ~]# unzip my.zip -d /tmp			#把my.zip解压到/tmp
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

查看日期与时间 ：date
	[root@server0 opt]# date
2018年  02月  05日  星期一  16:06:36  CST

修改日期与时间： date -s
	格式：date -s "年-月-日  时:分:秒 "，如果时分秒不写则用0补全，最早不能早于1970-1-1	
	[root@server0 opt]# date -s "2018-2-5  16:09"
显示日期：date +%F
显示年：date +%Y
显示月：date +%m 
显示日：date +%d
显示时间（无秒)：date +%R	
显示时间（有秒）：date +%T			   
显示小时：date +%H
显示分：date +%M
显示秒：date +%S
	[root@server0 opt]# date +%Y-%m-%d %H:%M
NTP时间同步:
NTP网络时间协议:Network Time Protocol
	NTP服务器为客户机提供标准时间
	NTP客户机需要与NTP服务器保持沟通
   服务端：Linux系统上一款软件，服务端软件
   客户端： 客户端软件
  1.安装chrony客户端软件
	 [root@server0 opt]# yum -y install chrony		#Linux默认已安装
	 [root@server0 opt]# rpm -q chrony
  2.配置chrony客户端软件
	 [root@server0 /]# vim  /etc/chrony.conf
		server 0.rhel.pool.ntp.org iburst
		server 1.rhel.pool.ntp.org iburst
		server 2.rhel.pool.ntp.org iburst
		server  classroom.example.com  iburst   #指定ntp时间同步服务器为classroom.example.com
  3.重启chrony客户端软件服务
	 [root@server0 /]# systemctl  restart  chronyd.service    #重启服务，等待若干秒后同步成功
	 [root@server0 /]# systemctl  start  chronyd.service    	
	 [root@server0 /]# systemctl  stop  chronyd.service   
	 [root@server0 /]# systemctl  enable  chronyd.service     #设置开机自启服务  
  4.验证
	 [root@server0 opt]# date

-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

计划任务
	用途:按照设置的时间间隔为用户反复执行某一项固定的系统任务
	系统服务:crond
	日志文件:/var/log/cron

设置计划任务：crontab 
	格式:crontab  -e  [-u 用户名]		#可指定执行用户名，不指定则默认当前用户
	         时间                       执行任务
         分   时   日   月   周        任务命令行(绝对路径)
	*: 匹配范围内任意时间
	,: 分隔多个不连续的时间点
	-: 指定连续时间范围
	/n: 指定时间频率,每n时间执行一次

	例如：每分钟记录当前的系统时间，写入/opt/time.txt
	 [root@server0 /]# crontab  -e 
	  */2   *   *   *   *   date  >>  /opt/time.txt
	 [root@server0 /]# cat /opt/time.txt 

--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

grep  ‘^$'匹配空行
	[root@server0 /]# grep -v  '^$'  /etc/default/useradd 	#表示出非空行
	配置文件'/etc/login.defs'的有效信息（去除注释和行），并写入/opt/1.txt
 	[root@server0 /]# grep -v  '^#' /etc/login.defs  |   grep -v  '^$'    >  /opt/1.txt
^$表示匹配空行，^#表示匹配注释

权限管理：基本权限、附加权限、acl访问控制权限
基本权限的类别
• 访问方式(权限)
	读取r : 允许查看内容，read
	写入w : 允许修改内容，write
	可执行x: 允许运行和切换，execute

	目录的 r 权限: 能够 ls 浏览此目录内容
	目录的 w 权限: 能够执行rm/mv/cp/mkdir/touch/等更改目录内容的操作(对子目录可以)
	目录的 x 权限: 能够 cd 切换到此目录
        文件的 r 权限: cat，less，head，tail 
        文件的 w 权限: vim且能够保存
        文件的 x 权限: Shell脚本

• 权限适用对象(归属)
	所有者u : 拥有此文件/目录的用户,user  
	所属组g : 拥有此文件/目录的组,group     
	其他用户o : 除所有者、所属组以外的用户,other  
	[root@room9pc01 ~]# ls -ld 
	d          r-x       r-x       ---           .         29     root   root    4096      2月   6 16:33 
  - ： 文本文件    所属用户权限  所属组权限  其他用户权限 是否存在acl   硬连接数  所属用户 所属组 大小，单位b   最后修改时间
 d ： 目录
 l ： 快捷方式（链接文件）

设置基本权限
• chmod（change modify）
	格式：chmod [-R]  归属关系+-=权限类别   文档路径 	#-R：递归设置
使用数字修改权限：
	普通权限：r=4,w=2,x=1
	格式：chmod nnn 文件或目录
	[root@server0 ~]# chmod  u-w  /nsd01				#关闭所属用户写入权限
	[root@server0 ~]# chmod  g+w  /nsd01				#开启所属组写入权限
	[root@server0 ~]# chmod  o+w  /nsd01				#开启其他用户写入权限
	[root@server0 ~]# chmod  o=  /nsd01				#关闭其他用户所有权限
	[root@server0 ~]# chmod  u=rwx,g=rx,o=rx  /nsd01		#同时设置
	[root@desktop0 ~]# chmod 777 文件或目录（结果rwxrwxrwx）
	[root@desktop0 ~]# chmod 000 文件或目录（结果--------）
	[root@desktop0 ~]# chmod 77 文件或目录（结果-rwxrwx）
		附加权限：suid=4,sgid=2,sticky=1			#SUID（仅能对程序设置），SGID，sticky（仅对目录可以设置）
		格式：chmod nnnn  文件或目录			#第1个n是特殊权限
	[root@desktop0 ~]# chmod 7777  文件（结果：rwsrwsrwt）
	[root@desktop0 ~]# chmod 1777  文件  (结果：rwxrwxrwt)
	[root@desktop0 ~]# chmod 6777  文件（结果：rwsrwsrwx)

判断Linux中用户的权限
1.  依次查看用户对于该文档所属的身份，acl>所有者>所属组>其他人，匹配到即停止查看
2.  查看相应身份的权限

常见的提示信息：权限不足,Permission denied

• 使用 chown 命令
	chown [-R] 属主 文档...
	chown [-R] :属组 文档...
	chown [-R] 属主:属组 文档...

	[root@server0 /]# chown harry:stugrp /nsd03	#设置/nsd03目录所有者为harry，所属组为stugrp
	[root@server0 /]# chown zhangsan /nsd03		#设置/nsd03目录所有者为zhangsan，所属组不变
	[root@server0 /]# chown :root  /nsd03		#设置/nsd03目录所属组为root，所有者不变

利用root用户新建/nsd05目录，并进一步完成下列操作
	将属主设为gelin01，属组设为tarena组
	[root@server0 /]# useradd gelin01
	[root@server0 /]# groupadd tarena
	[root@server0 /]# chown gelin01:tarena  /nsd05

	使用户gelin01对此目录具有rwx权限，其他人对此目录无任何权限
	[root@server0 /]# chmod o=--- /nsd05

	使用户gelin02能进入、查看此目录
	[root@server0 /]# gpasswd -a  gelin02  tarena

	将gelin01加入tarena组, 将nsd05目录的权限设为rw-r-x---，测试gelin01用户能否进入此目录（不能进入）
	[root@server0 /]# chmod u=rw,g=rx /nsd05

• 设置附加权限（特殊权限）
Set UID:
	附加在属主的 x 位上
	属主的权限标识会变为 s
	适用于可执行文件,Set UID可以让使用者具有文件属主的身份及部分权限
	功能：传递所有者身份
 	[root@server0 /]# chmod u+s /public





Set GID:
	格式：chmod g+s 目录名	
	附加在属组的 x 位上，属组的权限标识会变为 s ，如果属组没有x权限，则变为S
	适用：目录,Set GID可以使目录下新增的文档自动设置与父目录相同的属组
	功能：继承父目录所属组身份
	[root@server0 /]# chmod g+s /nsd07

Sticky Bit:也称为t标签
	附加在其他人的 x 位上
	其他人的权限标识会变为 t
	适用于开放 w 权限的目录,可以阻止用户滥用 w 写入权限(禁止操作别人的文档)
	[root@server0 ~]# chmod u=rwx,g=rwx,o=rwx,o+t /public
	[root@server0 ~]# ls -ld /public
	drwxrwxrwt. 2 root root 6 2月  12 09:35 /public

i权限：加上i权限，所有用户包括root都不能修改或删除该文件
	[root@server0 ~]# lsattr /var/lib/libvirt/images/.rh7_template.img    #查看是否有特殊权限
	[root@server0 ~]# chattr -i /var/lib/libvirt/images/.rh7_template.img   #去除特殊权限

• acl 访问控制列表
acl访问策略：能够对个别用户、个别组设置独立的权限
使用 getfacl、setfacl 命令
	格式：	查看指定文档的acl访问ACL策略：getfacl  文档...
		新增该指定文档用户访问ACL策略：setfacl  -m  u:用户名:权限类别  文档... 
		新增指定文档组访问ACL策略：setfacl  -m  g:组名:权限类别  文档...
		删除指定文档ACL策略：setfacl  -x  u:用户名   文档...  
		删除指定文档所有的ACL策略：setfacl  -b   文档...                 
   	支持[-R] : 递归设置
	[root@server0 /]# setfacl -m u:zhangsan:rwx  /nsd11	#设置用户的ACL权限
	[root@server0 /]# getfacl /nsd11				#查看ACL权限			
	[root@server0 /]# setfacl -x u:natasha  /nsd11    	#删除指定的ACL权限
	[root@server0 /]# setfacl -b /nsd11          		#删除所有的ACL权限

• LDAP认证，轻量级目录访问协议（Lightweight Directory Access Protoco）
	由服务器来集中存储用户信息并向客户端提供的信息,存储方式，类似于DNS分层结构
	提供的信息包括:用户名、密码
• 为一组客户机集中提供可登录的用户账号
	本地用户：用户名：/etc/passwd  密码：/etc/shadow
	网络用户 : 用户名、密码信息存储在 LDAP 服务端
设置方法：
1.安装一个客户端sssd软件,与LDAP 服务端沟通
 	[root@server0 /]# yum  -y  install  sssd

2.安装authconfig-gtk 图形的工具，配置sssd软件

 	[root@server0 /]# yum  -y  install  authconfig-gtk

3.运行authconfig-gtk 图形的工具
 	[root@server0 /]# authconfig-gtk 
	选择LDAP
      LDAP搜索基础：dc=example,dc=com             #指定服务端域名
      LDAP服务器：classroom.example.com           #指定服务端主机名
	勾选TLS加密
	使用证书加密:  http://classroom.example.com/pub/example-ca.crt
	选择LDAP密码

4.重启客户端服务sssd服务，设置开机自启动
	 [root@server0 /]# systemctl restart sssd    #重启sssd服务
	 [root@server0 /]# systemctl enable sssd     #设置开机自启动

5.验证
	 [root@server0 ~]# grep 'ldapuser0' /etc/passwd 	#/etc/passwd中未找到用户ldapuser0
	 [root@server0 ~]# id ldapuser0			#可以找到用户ldapuser0

• 家目录漫游，NFS（Network File System）网络文件系统
	由NFS服务器将指定的文件夹共享给客户机
	客户机将此共享目录 mount 到本地目录,访问此共享资源就像访问本地目录一样方便，类似于 EXT4、XFS等类型,只不过资源在网上
设置方法：
1.查看共享classroom.example.com
	 [root@server0 ~]#  showmount  -e  classroom.example.com
	 Export list for classroom.example.com:
	 /home/guests  172.25.0.0/255.255.0.0		#注意：家目录所在路径：/home/guests，允许登陆的IP地址为：172.25.*.*/16

2.访问共享内容,将服务端的共享文件夹数据，挂载到本地/mnt以本地的/mnt作为访问点
	[root@server0 ~]# mount classroom.example.com:/home/guests   /home/guests
	[root@server0 ~]# su - ldapuser0

2.使用autofs设置家目录漫游
	[root@server0 ~]# yum install autofs -y		#安装autofs
	[root@server0 ~]# vim /etc/auto.master
		参照原本追加一行：/home/guests   /etc/auto.guests  
	[root@server0 ~]# vim /etc/auto.guests
		参照/etc/auto.misc内容写入：* -rw classroom.example.com:/home/guests/&			#‘&’代表前一个‘*’的内容
	[root@server0 /]# systemctl restart autofs
	[root@server0 ~]# su - ldapuser0



